(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["canvas"],{"064b":function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"08ba":function(t,e,i){var n=i("d890"),a=i("064b"),r=i("3c10"),s=i("0fc1");for(var o in a){var c=n[o],h=c&&c.prototype;if(h&&h.forEach!==r)try{s(h,"forEach",r)}catch(l){h.forEach=r}}},"1bbd":function(t,e,i){"use strict";var n=i("9f67"),a=i("d910"),r=i("38b9");t.exports=function(t,e,i){var s=n(e);s in t?a.f(t,s,r(0,i)):t[s]=i}},"1ca1":function(t,e,i){var n=i("a719"),a=i("74e7"),r=i("90fb"),s=r("species");t.exports=function(t,e){var i;return a(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?n(i)&&(i=i[s],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"1ea7":function(t,e,i){var n=i("efe2"),a=i("90fb"),r=i("f594"),s=a("species");t.exports=function(t){return r>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3c10":function(t,e,i){"use strict";var n=i("5dfd").forEach,a=i("d7e1"),r=i("ff9c"),s=a("forEach"),o=r("forEach");t.exports=s&&o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"5dfd":function(t,e,i){var n=i("e349"),a=i("692f"),r=i("3553"),s=i("d88d"),o=i("1ca1"),c=[].push,h=function(t){var e=1==t,i=2==t,h=3==t,l=4==t,u=6==t,f=5==t||u;return function(d,p,m,v){for(var g,w,x=r(d),b=a(x),y=n(p,m,3),C=s(b.length),L=0,S=v||o,T=e?S(d,C):i?S(d,0):void 0;C>L;L++)if((f||L in b)&&(g=b[L],w=y(g,L,x),t))if(e)T[L]=w;else if(w)switch(t){case 3:return!0;case 5:return g;case 6:return L;case 2:c.call(T,g)}else if(l)return!1;return u?-1:h||l?l:T}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},"74e7":function(t,e,i){var n=i("2118");t.exports=Array.isArray||function(t){return"Array"==n(t)}},d7e1:function(t,e,i){"use strict";var n=i("efe2");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},dcd9:function(t,e,i){"use strict";var n=i("f0bf"),a=i.n(n);a.a},e36e:function(t,e,i){"use strict";const n=document.createElement("canvas").getContext("2d"),a=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,r=(window.devicePixelRatio||1)/a;var s=r;const o=(t,e)=>{for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)},c={fillRect:"all",clearRect:"all",moveTo:"all",lineTo:"all",arc:[0,1,2],arcTo:"all",bezierCurveTo:"all",isPointInPath:"all",isPointInStroke:"all",quadraticCurveTo:"all",rect:"all",translate:"all",createRadialGradient:"all",createLinearGradient:"all",createImageData:"all",getImageData:"all",putImageData:[1,2]};function h(t){return t.getContext=function(t){const e=HTMLCanvasElement.prototype.getContext.call(this,t);return s<=1||("2d"===t&&(this.style.height=this.height+"px",this.style.width=this.width+"px",this.width*=s,this.height*=s),function(t){o(c,(e,i)=>{CanvasRenderingContext2D.prototype[i]&&(t[i]=function(){let t=[...arguments];if("all"===e)t=t.map(t=>t*s);else if(Array.isArray(e))for(let i=0,n=e.length;i<n;i++)t[e[i]]*=s;return CanvasRenderingContext2D.prototype[i].apply(this,t)})}),t.drawImage=function(){const t=Array.prototype.slice.call(arguments),e=void 0!==t[5]?[5,6,7,8]:[1,2,3,4];for(let i=0,n=e.length;i<n;i++)t[e[i]]*=s;this.lineWidth*=s,CanvasRenderingContext2D.prototype.drawImage.apply(this,t),this.lineWidth/=s},t.stroke=function(){this.lineWidth*=s,CanvasRenderingContext2D.prototype.stroke.apply(this,arguments),this.lineWidth/=s},t.strokeRect=function(){const t=[...arguments].map(t=>t*s);this.lineWidth*=s,CanvasRenderingContext2D.prototype.strokeRect.apply(this,t),this.lineWidth/=s},t.fillText=function(){const t=[...arguments];t[1]*=s,t[2]*=s,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(t,e,i)=>e*s+i),CanvasRenderingContext2D.prototype.fillText.apply(this,t),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(t,e,i)=>e/s+i)},t.strokeText=function(){const t=[...arguments];t[1]*=s,t[2]*=s,this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(t,e,i)=>e*s+i),CanvasRenderingContext2D.prototype.strokeText.apply(this,t),this.font=this.font.replace(/(\d+)(px|em|rem|pt)/g,(t,e,i)=>e/s+i)}}(e)),e},t}var l=h,u={typeof(t){return Object.prototype.toString.call(t).slice(8,-1)}};const f=["save","restore","beginPath","closePath","clip","clearRect","translate","rotate","scale","drawImage","arc","arcTo","rect","fillRect","strokeRect","fillText","strokeText","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","putImageData","setLineDash","transform","drawFocusIfNeed","stroke","fill"],d={beginPath:"begin",closePath:"close",clearRect:"clear",translate:"mv",drawImage:"img",quadraticCurveTo:"qt",bezierCurveTo:"ct",moveTo:"mt",lineTo:"lt",createLinearGradient:"lg",createRadialGradient:"rg",measureText:"tw",lineWidth:"lw",setContext:"style",createPattern:"pattern"};class p{constructor(t){t instanceof HTMLElement&&(t={el:t});const{el:e,...i}=t;this.width=500,this.height=300,this.pixelRatio=s,e&&(i.width||(i.width=e.offsetWidth),i.height||(i.height=e.offsetHeight)),Object.assign(this,i),this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,l(this.canvas),this.ctx=this.canvas.getContext("2d"),this.canvas.style.verticalAlign="middle",e&&e.appendChild(this.canvas)}resize(t=500,e=300){this.domWidth=t,this.domHeight=e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.canvas.width=s>1?t*s:t,this.canvas.height=s>1?e*s:e}setContext(t,e){return void 0!==e?this.ctx[t]=e:Object.assign(this.ctx,t),this}createLinearGradient(t,e,i,n,...a){const r=this.ctx.createLinearGradient(t,e,i,n);if(a)for(let s=0;s<a.length;s+=2)r.addColorStop(a[s],a[s+1]);return r}createRadialGradient(t,e,i,n,a,r,...s){const o=this.ctx.createLinearGradient(t,e,i,n,a,r);if(s)for(let c=0;c<s.length;c+=2)o.addColorStop(s[c],s[c+1]);return o}createPattern(){return this.ctx.createPattern(...arguments)}path(t){let e=0,i=0;const n=/[a-zA-Z]|([-\d.]+)/g,a=[];let r;while(null!==(r=n.exec(t)))a.push(r[0]);while(a.length){let t,n=a.shift();switch(n){case"m":e+=+a.shift(),i+=+a.shift(),this.mt(e,i);break;case"M":e=+a.shift(),i=+a.shift(),this.mt(e,i);break;case"l":e+=+a.shift(),i+=+a.shift(),this.lt(e,i);break;case"L":e=+a.shift(),i=+a.shift(),this.lt(e,i);break;case"h":e+=+a.shift(),this.lt(e,i);break;case"H":e=+a.shift(),this.lt(e,i);break;case"v":i+=+a.shift(),this.lt(e,i);break;case"V":i=+a.shift(),this.lt(e,i);break;case"c":t=a.splice(0,6).map(t=>+t),this.ct(e+t[0],i+t[1],e+t[2],i+t[3],e+t[4],i+t[5]),e+=+t[4],i+=+t[5];break;case"C":t=a.splice(0,6).map(t=>+t),this.ct(...t),e=+t[4],i=+t[5];break;case"q":t=a.splice(0,4).map(t=>+t),this.ct(e+t[0],i+t[1],e+t[2],i+t[3]),e+=+t[2],i+=+t[3];break;case"Q":t=a.splice(0,4).map(t=>+t),this.ct(...t),e=+t[2],i=+t[3];break}}return this}polygone(t){const e=u.typeof(t[0]);if("Array"===e)t.forEach((t,e)=>{0===e?this.mt(t[0],t[1]):this.lt(t[0],t[1])});else if("Object"===e)t.forEach((t,e)=>{0===e?this.mt(t.x,t.y):this.lt(t.x,t.y)});else{if("Number"!==e)throw new Error("Unsupported argument format");for(let e=0;e<t.length;e+=2)0===e?this.mt(t[e],t[e+1]):this.lt(t[e],t[e+1])}return this}radiusRect(t,e,i,n,a,r){return 0===a&&0===r||isNaN(a)||isNaN(r)?this.rect(t,e,i,n):this.mt(t+a,e).lt(t+i-a,e).qt(t+i,e,t+i,e+r).lt(t+i,e+n-r).qt(t+i,e+n,t+i-a,e+n).lt(t+a,e+n).qt(t,e+n,t,e+n-r).lt(t,e+r).qt(t,e,t+a,e),this}measureText(t){return this.ctx.measureText(t).width}lineWidth(t){return this.ctx.lineWidth=t,this}toDataURL(){return this.canvas.toDataURL()}toBlob(){return this.canvas.toBlob(...arguments)}getImageData(){return this.ctx.getImageData(...arguments)}createImageData(){return this.ctx.createImageData(...arguments)}saveAsPng(){let t=this.canvas.toDataURL();t=t.replace("image/jpeg","image/octet-stream");const e=function(e,i){if(window.navigator.msSaveOrOpenBlob){const e=atob(t.split(",")[1]),n=e.length,a=new Uint8Array(n);while(n--)a[n]=e.charCodeAt(n);const r=new Blob([a]);window.navigator.msSaveOrOpenBlob(r,i)}else{const t=document.createElementNS("http://www.w3.org/1999/xhtml","a");t.href=e,t.download=i;const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}},i=(new Date).toISOString()+".jpg";e(t,i)}}f.forEach(t=>{p.prototype[t]=function(){return this.ctx[t](...arguments),this}});for(let m in d)p.prototype[d[m]]=p.prototype[m];e["a"]=p},e605:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{staticClass:"btns"},[i("button",{on:{click:t.clear}},[t._v("清空")]),i("button",{on:{click:t.undo}},[t._v("撤销")])])])},a=[],r=(i("fe59"),i("ea69"),i("08ba"),i("e36e")),s={name:"Home",data:function(){return{painter:null,drawing:!1,path:[]}},mounted:function(){this.painter=new r["a"]({width:window.innerWidth,height:window.innerHeight}),this.$el.appendChild(this.painter.canvas),this.painter.canvas.addEventListener("mousedown",this.mousedown.bind(this)),this.painter.canvas.addEventListener("mousemove",this.mousemove.bind(this)),this.painter.canvas.addEventListener("mouseup",this.mouseup.bind(this)),this.painter.canvas.addEventListener("mouseout",this.mouseup.bind(this)),this.painter.canvas.addEventListener("touchstart",this.touchstart.bind(this)),this.painter.canvas.addEventListener("touchmove",this.touchmove.bind(this)),this.animate()},methods:{touchstart:function(t){this.path.push([]),this.path[this.path.length-1].push(t.touches[0].clientX,t.touches[0].clientY)},touchmove:function(t){t.preventDefault(),this.path[this.path.length-1].push(t.touches[0].clientX,t.touches[0].clientY)},mousedown:function(t){this.path.push([]),this.drawing=!0,this.path[this.path.length-1].push(t.offsetX,t.offsetY)},mousemove:function(t){this.drawing&&this.path[this.path.length-1].push(t.offsetX,t.offsetY)},mouseup:function(){this.drawing=!1},animate:function(){var t=this;requestAnimationFrame(this.animate.bind(this)),this.painter.clear(0,0,window.innerWidth,window.innerHeight),this.path.forEach((function(e){t.painter.begin().polygone(e).stroke().close()}))},undo:function(){this.path.splice(this.path.length-1,1)},clear:function(){this.path=[]}}},o=s,c=(i("dcd9"),i("9ca4")),h=Object(c["a"])(o,n,a,!1,null,null,null);e["default"]=h.exports},ea69:function(t,e,i){"use strict";var n=i("1c8b"),a=i("e1d6"),r=i("3da3"),s=i("d88d"),o=i("3553"),c=i("1ca1"),h=i("1bbd"),l=i("1ea7"),u=i("ff9c"),f=l("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var i,n,l,u,f,d,w=o(this),x=s(w.length),b=a(t,x),y=arguments.length;if(0===y?i=n=0:1===y?(i=0,n=x-b):(i=y-2,n=m(p(r(e),0),x-b)),x+i-n>v)throw TypeError(g);for(l=c(w,n),u=0;u<n;u++)f=b+u,f in w&&h(l,u,w[f]);if(l.length=n,i<n){for(u=b;u<x-n;u++)f=u+n,d=u+i,f in w?w[d]=w[f]:delete w[d];for(u=x;u>x-n+i;u--)delete w[u-1]}else if(i>n)for(u=x-n;u>b;u--)f=u+n-1,d=u+i-1,f in w?w[d]=w[f]:delete w[d];for(u=0;u<i;u++)w[u+b]=arguments[u+2];return w.length=x-n+i,l}})},f0bf:function(t,e,i){},fe59:function(t,e,i){"use strict";var n=i("1c8b"),a=i("3c10");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},ff9c:function(t,e,i){var n=i("1e2c"),a=i("efe2"),r=i("faa8"),s=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(r(o,t))return o[t];e||(e={});var i=[][t],h=!!r(e,"ACCESSORS")&&e.ACCESSORS,l=r(e,0)?e[0]:c,u=r(e,1)?e[1]:void 0;return o[t]=!!i&&!a((function(){if(h&&!n)return!0;var t={length:-1};h?s(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,l,u)}))}}}]);